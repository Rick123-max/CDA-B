# MODULE 10

## SWITCHING

### Introduction to Switching
- Switches operate at Layer 2 of the OSI model
  - **1 Broadcast Domain and collision domains equal to number of open ports**
- These devices are responsible for both the physical connection between devices as well as forwarding data frames received to the next recipient on the same network
- Traversal between networks is handled on Layer 3 of the OSI model
- This lesson uses the terms **frame**, **data frame**, or **ethernet frame** when referring to a discrete piece of data transmitted over Layer 2, and **packet** when referring to Layer 3 or higher equivalents.
- The same piece of data may be described as a frame, packet, or datagram depending on the context.

#### OSI Model
- The OSI Model consists of seven layers, shown in this chart:

<img width="552" height="732" alt="image" src="https://github.com/user-attachments/assets/3799f1e6-8572-486f-823c-7c0c8c80d8b4" />

- Layer 2 of the OSI model — the **Data Link layer** — handles addressing ethernet frames to direct communication between hosts on the same Local Area Network (LAN)
- Ethernet frames include Layer 2 addressing with vendor-assigned unique source and destination addresses for segments.
- In addition, ethernet commonly uses MAC addresses for communication on a segment.
- Other Layer 2 protocols — such as Frame Relay — use a completely different method of Layer 2 addressing.
- **MAC addresses are unique 48-bit addresses, separated into six octets, and noted in hexadecimal format.**
  - The first three octets — known as the Organizationally Unique Identifiers (OUI) — are assigned by the Institute of Electrical and Electronics Engineers (IEEE) to a manufacturer.
  - Each manufacturer is responsible for ensuring that the last three octets are unique for each device built.

#### Layer 2 Devices
- The simplest Layer 2 device for ethernet networks that allows multiple devices to communicate with each other is the **hub**
  - **1 Broadcast Domain and 1 Collision Domain**
- These devices broadcast all received data frames to all ports, regardless of the intended recipient.
- While these simple devices may still be found in some older networks, their usage is discouraged due to issues that they present including:
  - The broadcast behavior allows any connected device to view traffic bound for any other device on the hub.
  - Due to the rebroadcast nature of this device, transmitted frames can often collide when two connected devices attempt to send at the same time — especially during high-traffic load — causing dropped frames or retransmissions.
- Like hubs, switches allow for connectivity between devices; however, unlike hubs, switches utilize logic to determine which ports to forward frames onto
- Basic switches exist that perform only the bare minimum of switching to ensure that collisions do not occur frequently and ensure basic addressing.
  - These switches — sometimes referred to as **unmanaged switches** — can be found in small business and home networks and even see use in enterprise networks
- However, **managed switches** are typically utilized in enterprise networks, especially for central connectivity within the network.
  - These switches are able to be configured and support more features — such as the ability to **mirror ports**, **create VLANs** to segregate networks, etc.

#### Collision Domains
- When ethernet was introduced, it started leveraging technologies such as **Thinnet (10Base-2)** and **Thicknet (10Base-5)** coaxial cables as a transmission medium, in which devices connected to the medium with **Vampire Taps** or **T connectors**
- To mitigate the impact collisions have on a network, ethernet uses **Carrier Sense Multiple Access/Collision Detect (CSMA/CD)** to guarantee that only one host transmits at any given time in a collision domain
- If two hosts transmit at the same time, and the transmitting host senses that another host is also transmitting, it stops transmitting the frame, sends a jam signal, and waits a random time interval before attempting to retransmit the frame
- This means that hosts can either transmit or receive data at one time (operate at half-duplex).
- Network switches introduced stability and scalability in networks by creating virtual communication channels
  - To create these channels, switches maintain a table that associates a host's MAC addresses to the port to which the host is connected.
  - Instead of flooding traffic out of every switch port, a switch uses the MAC address table to forward traffic only to the switch port associated with the destination MAC address.
  - The process of delivering traffic directly to the DMAC drastically reduces the size of the collision domain between the devices enabling hosts to transmit and receive data simultaneously (full-duplex).

### Configuration File Overview

#### Cisco Devices
- Cisco devices tend to have several different methods for an administrator to connect to them.
- The most common methods follow:
  - Direct connection to the console via the **console** or **Auxiliary (AUX) port**.
    - This is generally a **serial port** connection and often requires the included **Registered Jack (RJ)-45 to Recommended Standard (RS)-232 cable** to connect to.
    - The screen command or a terminal emulator can be used on Linux, while **PuTTY** or other terminal connection software is common on Windows.
  - Connection to a virtual console, typically via **Secure Shell (SSH) or Teletype Network (Telnet)**.
    - **Telnet** is generally discouraged because its traffic is transmitted in plaintext.
    - Binaries for SSH are available or commonly included on Linux systems and modern builds of Windows — though, **PuTTY** is still commonly used on Windows.
  - Many modern Cisco devices also include web interfaces for viewing the status of and managing the device.
    - These interfaces can be interacted with using standard browsers.

#### Cisco Security Model
- First connection to a Cisco Switch will show something similar to `hostname>`
- The **enable** command can be used to **raise privilege levels to 15**, and the **disable** command can be used to **lower the privilege levels to 1**.
- An **enable password** can be configured to **require a password** in order to raise the privilege level
- The basic security model for Cisco devices consists of three privilege levels:
- Zero (0)
  - Privilege level 0 is the **lowest level privilege** defined by default on Cisco devices.
  - When connected, the user only has access to these commands:
    - **disable**: Lower privilege level
    - **enable**: Raise privilege level
    - **exit**: Close the current session
    - **help**: Interact with the help system
    - **logout**: Close the current session
  - These commands only allow leaving the session or attempting to increase or decrease the privilege level.
- User (1)
  - At this level — in addition to the above commands — some additional utilities are available for troubleshooting connectivity, such as the **traceroute** and **ping** commands.
  - In addition, some configurations can be viewed via **show** commands.
  - No configuration changes can be made at this level.
- Privileged (15)
  - Privilege level 15 is the highest level defined by default on Cisco devices. At this privilege level, all commands are available, and the device can be configured.

#### Cisco Config Mode
- To make changes to the current configuration of the device, the **configure terminal** command must be used.
- For this command to be used, the current privilege level must be 15. As the configuration is navigated, the prompt changes to indicate what is currently being configured:

  ```
  Hostname#configure terminal
  Hostname(config)#interface GigabitEthernet0/0
  Hostname(config-if)#
  Hostname(config-if)#end
  Hostname#
  ```
  - In addition, you can completely leave via the **end** command
- Configuration sections are separated by exclamation points (!) for readability, which are for formatting and display purposes only.
- An example configuration file (trimmed) follows:

  ```
  version 15.2
  service timestamps debug datetime msec
  service timestamps log datetime msec
  no service password-encryption
  service compress-config
  !
  hostname Switch
  !
  !
  !
  no aaa new-model
  !
  !
  !
  ip cef
  login on-success log
  no ipv6 cef
  !
  !
  !
  spanning-tree mode pvst
  spanning-tree extend system-id
  !
  vlan internal allocation policy ascending
  !
  !
  !
  interface GigabitEthernet0/0
   media-type rj45
   negotiation auto
  !
  interface GigabitEthernet0/1
   media-type rj45
   negotiation auto
  !
  interface GigabitEthernet0/2
   media-type rj45
   negotiation auto
  !
  interface GigabitEthernet0/3
   media-type rj45
   negotiation auto
  !
  interface GigabitEthernet1/0
   media-type rj45
   negotiation auto
  !
  interface GigabitEthernet1/1
   media-type rj45
   negotiation auto
  ip forward-protocol nd
  !
  interface GigabitEthernet1/2
   media-type rj45
   negotiation auto
   shutdown
  ip forward-protocol nd
  !
  interface GigabitEthernet1/3
   media-type rj45
   negotiation auto
   shutdown
  ip forward-protocol nd
  !
  no ip http server
  no ip http secure-server
  !
  !
  !
  control-plane
  !
  !
  line con 0
  line aux 0
  line vty 0 4
  !
  !
  end
  ```
- Breakdown of the sections is as follows:
  ```
  version 15.2
  service timestamps debug datetime msec
  service timestamps log datetime msec
  no service password-encryption
  service compress-config
  ```
  - This section covers the version of the device, as well as some services that are configured:
    - **version**: Indicates the Cisco Internetwork Operating System (IOS) version for this device
    - **service timestamps**: Determines how timestamps for debug and log entries are displayed
    - **service password-encryption**: Automatically encrypts passwords when a new password is saved; no variant of the command means this is disabled
    - **service compress-config**: Configuration is compressed automatically by this service

  ```
  hostname Switch
  no aaa new-model
  ```
  - **hostname**: Sets the hostname for this device; shown in the command-line by default, may also be discovered by this name, or respond with this name during network discovery
  - **aaa new-model**: Authentication, Authorization, and Accounting (AAA); disabled, this device does not support AAA features, such as user accounts, user levels, or command-level logging as handled by the AAA feature

  ```
  ip cef
  no ipv6 cef
  ```
  - Enables Cisco Express Forwarding (CEF)

  - ```login on-success log```
    - Any successful login is logged to the console

  ```
  spanning-tree mode pvst
  spanning-tree extend system-id
  !
  vlan internal allocation policy ascending
  ```
  - These configurations are related to VLANs, which are covered later in this lesson:
    - **spanning-tree mode**: Determines the method used for Spanning Tree Protocol (STP)
    - **vlan internal allocation policy**: Specific VLANs reserved for internal use — determines where these VLANs begin enumerating (ascending starts at VLAN Identifier [ID] 1006 and up, descending at 4095 and below)

  ```
  interface GigabitEthernet1/3
  media-type rj45
  negotiation auto
  shutdown
  ```
  - Only one interface is covered here, as the others are nearly identical. 
    - **interface**: GigabitEthernet1/3 here indicates that this device is detected as a gigabit ethernet interface (as opposed to FastEthernet for 100 megabit ethernet) in slot zero, port zero; each internal slot may or may not contain multiple ports, depending on the interface card
    - **media-type**: RJ-45, Small Form-factor Pluggable (SFP), or Auto
    - **negotiation auto**: Attempts to automatically negotiate speed and duplex settings with the connected device.
    - **Shutdown**: Port is administratively disabled, ensuring that the port is not usable

  ```
  no ip http server
  no ip http secure-server
  ```
  - No web confg is enabled

- ```control-plane```
  - Control plane being enabled allows this device to have policies enabled that deal with Quality of Service (**QoS**), as well as mitigation of Denial of Service (**DoS**) and reconnaissance techniques

  ```
  line con 0
  line aux 0
  line vty 0 4
  ```
  - These configuration lines detail the settings used for connecting to the device:
    - **line con**: First — and typically only — serial console is enabled for this device; no configurations have been set beyond default settings
    - **line aux**: First — and typically only — AUX port is enabled for this device; no configurations have been set beyond default settings. Traditionally, the AUX port was often used for remote modem connections.
    - **line vty**: Five (0, 1, 2, 3, 4) virtual terminals (used for SSH or Telnet) are enabled. Unlike con and AUX ports, these are not physical.

### Packet Switching Logic
- Switches control which devices to forward frames to via algorithms known as Packet Switching
- Switches maintain an internal database of MAC addresses — **MAC address table or Content Addressable Memory (CAM) table** — that maps each known **MAC address** to a specific **port** on the switch, allowing the switch to determine the best port to forward onto.
- The switch analyzes the incoming frame, and then forwards it based upon the addressing type, such as:

<img width="802" height="435" alt="image" src="https://github.com/user-attachments/assets/61fdb359-f455-4d12-9c60-0b1af62b6be1" />

  - **Unicast**
    - **Single source** to **single destination**. If the MAC address is not in the switch’s MAC address table, then the forwarding of the frame is treated the same as broadcast. Otherwise, the frame is sent to the device if directly connected, or forwarded to the next switch closer to the destination device.

<img width="808" height="444" alt="image" src="https://github.com/user-attachments/assets/627bb4df-8923-4ab1-ae4f-1ff1bba29e66" />

  - **Broadcast**
    - **Single source** to **all devices on the LAN**. This floods the entire network, sending the frame to all other active ports — any receiving switch is also sent the frame to each connected device as well.
    - Any frames sent to FF:FF:FF:FF:FF:FF are broadcasted.

<img width="808" height="444" alt="image" src="https://github.com/user-attachments/assets/fd3528e8-8f16-4391-97ba-154bd6b7f85a" />

  - **Multicast**
    - **Single source** to **multiple devices**. Clients must subscribe to receive frames that are multicasted.
    - Switches learn which devices are subscribed using Internet Group Management Protocol **(IGMP) snooping** or via proprietary protocols or other means.
    - If the switch is **unable to learn** which devices are subscribed, **multicast frames** are treated as **broadcast frames**.
- **Note** that for **multicast and unicast** to not act like broadcast addressing, the switch needs to be able to maintain information about the network, such as subscriptions for multicast and MAC address tables for unicast.

### Port Configs and Virtual LANs
- Misconfigured switches can enable attackers to perform attacks such as **VLAN Hopping**

#### Link Aggregation
- Link Aggregation allows for multiple ports to be combined into a single, logical, port for **performance** and **stability** reasons
- It requires configuration on both the device and the switch the device is connected to.
- Link Aggregation can improve maximum bandwidth by allowing network traffic flow to travel among multiple ports with little configuration required for other devices on the network
- Configuration is typically either handled using **Link Aggregation Control Protocol (LACP)** or via **static configuration**.

#### Port Staus
- Unused ports should generally be disabled, which is accomplished via **shutdown** configuration when applied to an interface on Cisco devices.
- In addition, unused ports can be directed to a separate `quarantine VLAN`, which can be accomplished — on Cisco switches — with the `switchport mode access` command and assigned to the quarantine VLAN with the `switchport access VLAN <vlan-id>` command.

#### Port Security
- Also known as whitelisting, switch ports can have configurations applied to them that restrict traffic only to known sources.
- By restricting traffic to known MAC addresses, this feature can increase the security of the network as well as mitigate some types of attacks.

#### VLANs
- VLANs separate a physical network into logical network segments — each port assigned to a VLAN can communicate with each other as though they were all connected to a single logical switch while being isolated from any other VLANs from a Layer 2 perspective.
- VLANs are defined in the **IEEE 802.1Q** standard, which states that **32 bits are allocated in the ethernet packet header for the following fields**:
  - **Tag Protocol Identifier (TPID)**: 16-bit field set to 0x8100 to identify the 802.1Q packet
  - **Priority Code Point (PCP)**: 3-bit Class of Service (CoS) field; assigned to Layer 2 QoS between switches
  - **Drop Eligible Indicator (DEI)**: 1-bit field indicating whether the packet can be dropped when insufficient bandwidth is available on a link; when identified, indicates the potential use of Voice over IP (VoIP) traffic
  - **VLAN ID**: 12-bit field specifying the VLAN associated with a network packet
- VLANs can be used to segregate or isolate network segments, which can have many benefits such as enhancing performance by limiting the range of broadcasts or improving security by helping control access to sensitive machines or data. VLAN traversal happens via routing on Layer 3 — so-called Layer 3 switches are able to control and allow machines on different VLANs to communicate with each other in a manner managed by the switch.

#### Trunk Ports
- Managed switches connected to each other physically can designate those ports as trunk ports
- Trunk ports are able to carry traffic designated for VLANs on other connected switches
- Trunk ports can limit allowed VLANs through the trunk, which can be useful for physically segmenting VLAN IDs, or limiting the physical reach of specific VLANs.
- On Cisco switches, Dynamic Trunking Protocol (DTP) is a proprietary protocol that can be used to automatically negotiate trunk ports between connected switches.
- While convenient, if enabled for ports not intended to connect to other trunk ports, this can lead to insecure configurations if an attacker is able to spoof a switch in order to negotiate trunk ports.

#### Access Port
- **Access ports** are the foundational building blocks of managed switches; each access port can only be **assigned to one VLAN**.
- **Access ports** carry traffic from the configured VLAN to the device connected or to other devices on the same VLAN on that switch.
- **Packets received or transmitted** on access ports **do not carry 802.1Q tags**.
- By default, **switches assign all unconfigured ports to VLAN 1**.
- For Cisco switches, the ports can be manually configured as access ports with the `switchport mode access command` and assigned to a VLAN with the `switchport access VLAN <vlan-id>` command.

#### Private VLAN
<img width="602" height="402" alt="image" src="https://github.com/user-attachments/assets/6e8f76c5-f94b-4b43-9e09-2bec6eadc054" />

- Private VLANs further subdivide VLANs, allowing for isolation of devices within a VLAN from each other.
- When assigning a private VLAN to a port, in addition to the primary VLAN, a community VLAN ID is required.
- Three types of private VLAN ports exist:
  - **Promiscuous**: Typically reserved for routers or other gateway devices, these ports can receive traffic from any of the ports in a VLAN, regardless of the private VLAN configurations of those devices.
  - **Isolated**: Only able to communicate with promiscuous ports, these ports are isolated from all other ports. However, communication with the primary VLAN is possible.
  - **Community**: Able to communicate with promiscuous ports and other community ports on the same community VLAN. Additionally, community ports can communicate with the primary VLAN.
- Allows for isolation of devices without using up VLANs to do so.

#### Native VLANs
- The **802.1Q** standard states that any **traffic transmitted or received** on a **trunk port without an 802.1Q VLAN tag** is associated with the **native VLAN**.
- The default native VLAN for most switch vendors is VLAN 1.
- All switch control plane traffic is switched across the network using VLAN 1.
- Change this VLAN to a super high number (999)
- For a stable trunk to be established between switches, the native VLAN should match at both ends, or traffic can unintentionally change VLANs.
- For example, this configuration practice could mean that when a switch has a host connected to a trunk port with native VLAN 10, the host could communicate with hosts connected to access ports assigned to VLAN 10.
  - This occurrence is called VLAN Leaking and can be leveraged by threat actors to capture traffic across broadcast domains.
- Defining the native VLAN is a port-specific configuration and can be changed with the `switchport trunk native VLAN <vlan-id>` interface command.

#### Management VLANs
- As part of the network segmentation efforts to improve the security of a network, many network designs include a dedicated management VLAN — arbitrarily assigned amongst the available pool of VLANs.
- In switches, this is accomplished by assigning this VLAN to an internal interface.
- Special care is often taken or suggested with this VLAN, such as designing the connectivity of this VLAN to ensure that no connection loops exist.
- If a switch is misconfigured or misbehaving and STP is not able to resolve a loop, losing access to the management VLAN can greatly complicate recovery efforts.

#### Restricting VLANs
- VLANs can be restricted from trunk ports for security reasons or as a method of traffic engineering.
- The interface `switchport trunk allowed VLAN <vlan-ids>` command defines the VLANs that can traverse the link. 

### Practical Implications
- Some examples of attacks that rely on the behavior of switches or misconfigurations follow:
  - **MAC Flooding**: This attack relies on switches having a limited amount of memory for storing the MAC address table.
    - Due to the inability to store updates to this table, many switches failover to broadcast mode for all data frames — similar to network hubs.
    - This allows an attacker physically attached to a switch to view all traffic passing through the switch, rather than just traffic intended to be bound for that machine.
  - **MAC Spoofing**: This attack merely has the attacker present a different MAC address to the switch than the actual hardware MAC.
    - This can be done for various reasons, such as **bypassing MAC filters**, **masquerading** as a legitimate device, or **evading information gathering** by masquerading as a different device.
  - **VLAN Hopping**: This attack allows the attacker to view or transmit to or from VLANs that would normally not be permitted.
    - Since VLANs are often used for isolation, this may allow an attacker to view or communicate with sensitive machines.
  - **ARP Poisoning**: While technically a Layer 3 attack, mitigation is often the responsibility of switches on the network.
    - This attack allows an attacker to falsify ARP tables by sending forged packets, which causes clients to forward packets to the wrong MAC address for a specified IP address.
    - This can be used to Man-in-the-Middle (MitM) traffic bound for a specific host — including a gateway router — to observe traffic.

#### Mitigations
- A general overview of the mitigations for each of these follows:
  - **MAC Flooding/Spoofing**: Mitigations for these attacks depend on the network configuration.
    - If MAC addresses are known, each port can be configured with a **whitelist** of each address allowed on that port.
    - Alternately, authentication in some manner — such as **AAA** or **802.1x** — can be used to ensure that only approved devices are allowed to connect to ports or wireless for Wireless Fidelity (Wi-Fi) switches.
  - **VLAN Hopping**: VLAN hopping can be mitigated via appropriate port configurations.
    - Enforcing correct settings here involves ensuring that **client ports are set to access only**, **disabling trunk auto-negotiation** on client ports, and **ensuring that the native VLAN** for client ports is **set to an inaccessible VLAN**.
    - More details about these attacks and their mitigations are covered in the VLAN Attacks and Defenses lesson.
  - **ARP Poisoning**: ARP Poisoning attacks can be mitigated in several ways, depending on the network and its configuration.
    - Mitigating these attacks generally involves switch and/or router configuration.
    - Wi-Fi-based mitigation can be accomplished via:
      - **client isolation**: which prevents Wi-Fi clients from sending ARP packets to each other;
      - **wired-based mitigation** can involve **rate-limiting**, **manually binding important IP addresses to specific ports**, or **using vendor-specific, anti-spoofing technology** that validates ARP packets by validating against known hosts and blackholing unknown hosts that attempt to duplicate IP addresses.

### Layer 3 Forwarding
- A Layer 3 switch — also known as a **multilayer** switch — is any switch **capable of forwarding packets on Layer 3 as well as frames on Layer 2**
- These switches are able to route packets between discrete network segments, in a manner similar to routers
- They are distinguished from routers by their features — focusing on providing network connectivity with little overhead and often missing some of the more advanced Layer 3 features, such as Network Address Translation (NAT)
- Data starts at Layer 7 and works its way down to Layer 1; in this progression through the layers, some of the Layer 3 forwarding logic happens before Layer 2 forwarding.
- Switches typically have two methods for forwarding Layer 3 packets:
  - Forwarding traffic to hosts on the same subnet
  - Forwarding traffic to hosts on a different subnet

#### Local Network Forwarding
- Two hosts on the same IP subnet communicate locally. As the data of the transmitting host is encapsulated with its IP address, the device recognizes that the destination host is on the LAN segment
- However, the host still needs to encapsulate the Layer 2 information with its own MAC address and the MAC address of the destination to the packet
- It knows its own MAC address, but initially, it does not have the destination's MAC address
- This is where the ARP table is used to map Layer 3 IP addresses to Layer 2 MAC addresses and store the mapping.
- Next, the transmitting host uses the ARP table to add the appropriate Layer 2 headers with the destination's MAC address to the data packet before sending it down to Layer 2 for processing and forwarding.
- The ARP table is built over time and contains information on devices that the local host has recently communicated with on the same IP network segment

#### Packet Routing
- Packets must be routed when two hosts are on different networks. As the data is processed at Layer 3, it is encapsulated with its IP address; the host then detects that its destination is on a different IP subnet and must be routed.
- Next, the host checks its local routing table to find its next-hop IP address, which the host learned in one of several ways:
  - From a static route entry
  - A configured default-gateway
  - From routing protocols

<img width="1111" height="284" alt="image" src="https://github.com/user-attachments/assets/a2a4dc6a-6a16-4aad-b638-78676eb1a850" />

#### IP Address Assignment
- On Layer 3 switches (L3 switch) and routers, IPv4 addresses are assigned with the `ip address ip-address subnet-mask` interface command.
- When a switch interface is configured with an IP address and is online, the L3 switch adds the connected network into its routing table — also referred to as the **Routing Information Base (RIB)**.
- Directly-connected networks have an **Administrative Distance (AD) of 0**.

#### Switched Virtual Interfaces
- Cisco switches allow assigning IP addresses to a Switched Virtual Interface (**SVI**) — also referred to as a **VLAN interface**.
- An **SVI** is set up by configuring the VLAN on the switch and defining the VLAN interface with the interface `VLAN <vlan-id>` command.
- For the SVI to become operational (up-state), the switch must have an interface on that VLAN in an up-state.
- If the switch is a multilayer switch, multiple SVIs can be configured to route packets between VLANs, thus eliminating the need for an external router.
- Example Config:

  ```
  S1#configure terminal
  Enter configuration commands, one per line. End with CNTL/Z.
  S1(config)#interface Vlan 40
  S1(config-if)#ip address 172.16.22.1 255.255.255.0
  S1(config-if)#no shutdown
  S1(config-if)#interface vlan 45
  S1(config-if)#ip address 192.168.99.1 255.255.255.0
  S1(config-if)#no shutdown
  ```

#### Routed Switch Ports
- With the flexibility that multilayer switches provide in today's enterprise network environments, it is common for network architects to include point-to-point links between switches for routing
- Administrators can now convert Layer 2 switch ports to Layer 3 routed ports using the `no switchport` interface command on multilayer switches and assign an IP address to the interface, as seen in the example configuration below:

  ```
  S1#configure terminal
  Enter configuration commands, one per line. End with CNTL/Z.
  S11(config)#int gi1/0/14
  S1(config-if)#no switchport
  S1(config-if)#ip address 10.20.20.1 255.255.255.0
  S1(config-if)#ipv6 address 2001:db8:20::1/64
  S1(config-if)#no shutdown
  S1(config-if)#end
  S1
  ```











